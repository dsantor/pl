// Generated by CoffeeScript 1.12.7
(function() {
  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  this.OrdersPage = (function(superClass) {
    extend(OrdersPage, superClass);

    function OrdersPage() {
      OrdersPage.__super__.constructor.call(this);
      OrderService.getAll(null, this, this._ordersLoadedSuccess, ajaxCallbackError);
    }

    OrdersPage.prototype.destroy = function() {};

    OrdersPage.prototype.getPageTitle = function() {
      return "Porudzbine";
    };

    OrdersPage.prototype._clickEventHandler = function(event) {};

    OrdersPage.prototype._ordersLoadedSuccess = function(response) {
      this.orders = response.data;
      console.log(this.orders);
      return this.pageHTML();
    };

    OrdersPage.prototype._customHTML = function() {
      var i, innerHTML, len, order, orderId, ref, tableHtml;
      tableHtml = '';
      innerHTML = '';
      ref = this.orders;
      for (i = 0, len = ref.length; i < len; i++) {
        order = ref[i];
        orderId = Number(order.id);
        innerHTML += "<tr> <td class='table-text w-20'> <a class='text-decoration-none' href='#order/" + order.id + "'> <span class='d-inline-block align-middle launch-icon'></span> </a> " + order.clientName + " </td> <td class='table-text w-20'>" + order.saldo + "</td> <td class='table-text w-20'>" + order.paid + "</td> <td class='table-text w-20'>" + order.status + "</td> <td class='table-text w-20'>" + (ComponentsUtils.getTimeFromMillis(order.createdAtMillis)) + "</td> </tr>";
      }
      tableHtml = "<div class='pt-5'> <table class='table mb-0'> <tr> <th class='table-text w-20'>Poručilac</th> <th class='table-text w-20'>Cena</th> <th class='table-text w-20'>Uplaćeno</th> <th class='table-text w-20'>Status</th> <th class='table-text w-20'>Poručeno</th> </tr> </table> <table class='table table-striped'> " + innerHTML + " </table> </div>";
      return tableHtml;
    };

    return OrdersPage;

  })(AbstractPage);

}).call(this);
