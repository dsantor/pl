// Generated by CoffeeScript 1.12.7
(function() {
  this.ConfirmationDialog = (function() {
    function ConfirmationDialog(parentPage) {
      this.parentPage = parentPage;
      this.container = $('.js--confirmation--dialog--container');
      this.message = this.container.find('.js--confirmation--dialog--message');
      this.clickEvent = this._clickEventHandler.bind(this);
      this.container.on('click', this.clickEvent);
    }

    ConfirmationDialog.prototype.destroy = function() {
      this.container = null;
      this.message = null;
      this.container.off('click', this.clickEvent);
      this.clickEvent = null;
      this.parentPage = null;
      return this.onTheFlyData = null;
    };

    ConfirmationDialog.prototype.show = function(message, onTheFlyData) {
      this.onTheFlyData = onTheFlyData;
      this.message.html(message);
      return this.container.attr('visibility', true);
    };

    ConfirmationDialog.prototype.hide = function() {
      return this.container.attr('visibility', false);
    };

    ConfirmationDialog.prototype._clickEventHandler = function(event) {
      var target;
      target = $(event.target);
      if (closest(target, '.js--confirmation--dialog--positive--action')) {
        this.positiveAction();
        return;
      }
      if (closest(target, '.js--confirmation--dialog--negative--action')) {
        this.negativeAction();
      }
    };

    ConfirmationDialog.prototype.positiveAction = function() {
      this.parentPage.confirmationDialogResponse(true, this.onTheFlyData);
      return this.hide();
    };

    ConfirmationDialog.prototype.negativeAction = function() {
      this.parentPage.confirmationDialogResponse(false);
      return this.hide();
    };

    return ConfirmationDialog;

  })();

}).call(this);
