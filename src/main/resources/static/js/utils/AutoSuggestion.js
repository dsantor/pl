// Generated by CoffeeScript 1.12.7
(function() {
  this.AutoSuggestion = (function() {
    AutoSuggestion.BASE_FILTER = 'base_filter';

    function AutoSuggestion(parentPage, container, emptyStateContainer, filterType) {
      this.parentPage = parentPage;
      this.container = container;
      this.emptyStateContainer = emptyStateContainer;
      this.container.html(this._getHTMLByFilterType(filterType));
      this.keyupEvent = this._keyupEventHandler.bind(this);
      this.container.on('keyup', this.keyupEvent);
      this.clickEvent = this._clickEventHandler.bind(this);
      this.container.on('click', this.clickEvent);
      this.changeEvent = this._changeEventHander.bind(this);
      $('.js--change').on('change', this.changeEvent);
    }

    AutoSuggestion.prototype.destroy = function() {
      this.container.off('keyup', this.keyupEvent);
      this.keyupEvent = null;
      this.container.off('click', this.clickEvent);
      this.clickEvent = null;
      $('.js--change').off('change', this.changeEvent);
      this.changeEvent = null;
      this.container = null;
      this.parentPage = null;
      return this.emptyStateContainer = null;
    };

    AutoSuggestion.prototype._keyupEventHandler = function(event) {
      return this.parentPage.AutoSuggestionKeyUpEventHander(event);
    };

    AutoSuggestion.prototype._changeEventHander = function(event) {
      return this.parentPage.AutoSuggestionChangeEventHander(event);
    };

    AutoSuggestion.prototype._clickEventHandler = function(event) {
      return this.parentPage.AutoSuggestionClickEventHander(event);
    };

    AutoSuggestion.prototype._getHTMLByFilterType = function(filterType) {
      switch (filterType) {
        case AutoSuggestion.BASE_FILTER:
          return this._baseFilter();
        default:
          return console.log('ops ops');
      }
    };

    AutoSuggestion.prototype.emptyState = function() {
      return this.emptyStateContainer.html("<div class='col-5 m-auto h-75 pt-5 text-center'>Prazna pretraga :(</div>");
    };

    AutoSuggestion.prototype._baseFilter = function() {
      return this._filterWrapperHTML(this._filterBaseHTML());
    };

    AutoSuggestion.prototype._filterWrapperHTML = function(innerHtml) {
      return "<div class='card-header card bp-4'> <h2 class='mb-0 text-center'> <span  class='span-a btn pointer m-auto js--filters--button' data-toggle='collapse' data-target='#collapseOne'>Filteri</span> </h2> </div> <div id='collapseOne' class='collapse card js--filters--content'> <div class='card-body w-75 m-auto flex'> " + innerHtml + " </div> </div> </div> </div>";
    };

    AutoSuggestion.prototype._filterBaseHTML = function() {
      return "<div class='flex-column w-100'> <div class='flex flex-row justify-content-around pb-3'> <div class='flex flex-row w-40'> <label class='mr-2 w-25 d-inline-block'>Pretraži</label> <div class='pos-rel w-100'> <input type='text' class='form-control w-100 input-icon-icon-24 js--filter--as'/> <i class='input-icon-24 search-icon cursor-initial'></i> <div class='suggestion-container js--filter--suggestions pos-abs hide'></div> </div> </div> <div class='flex flex-row w-40'> <label class='mr-2 wc-10'>Status</label> <select class='js--change js--filter--status'> <option value='all' selected>Svi</option> <option value='active'>Zaposlen</option> <option value='deactive'>Otpušten</option> </select> </div> </div> <div class='w-100 flex justify-content-center'> <input type='button' class='btn btn-primary js--filter--reset' value='Restart filter'/> </div> </div>";
    };

    return AutoSuggestion;

  })();

}).call(this);
