// Generated by CoffeeScript 1.12.7
(function() {
  this.BidsPage = (function() {
    function BidsPage(clientId) {
      this.clientId = clientId;
      this.container = $('.js--page--container');
      this.container.html(this._html());
      this.clickEvent = this._clickEventHandler.bind(this);
      this.container.on('click', this.clickEvent);
      this.doorBidDialog = new DoorBidDialog();
      this.windowBidDialog = new WindowBidDialog();
      this.shutterBidDialog = new ShutterBidDialog();
      this.thresholdBidDialog = new ThresholdBidDialog();
      this.mosquitoRepellerBidDialog = new MosquitoRepellerBidDialog();
      this.bidsResultPage = new BidsResultPage();
    }

    BidsPage.prototype.destroy = function() {
      this.doorBidDialog.destroy();
      this.doorBidDialog = null;
      this.windowBidDialog.destroy();
      this.windowBidDialog = null;
      this.shutterBidDialog.destroy();
      this.shutterBidDialog = null;
      this.thresholdBidDialog.destroy();
      this.thresholdBidDialog = null;
      this.mosquitoRepellerBidDialog.destroy();
      this.mosquitoRepellerBidDialog = null;
      this.bidsResultPage.destroy();
      this.bidsResultPage = null;
      this.container.off('click', this.clickEvent);
      this.clickEvent = null;
      this.container.html('');
      return this.clientId = null;
    };

    BidsPage.prototype.show = function() {};

    BidsPage.prototype.getPageTitle = function() {
      return "Porudzbine";
    };

    BidsPage.prototype._html = function() {
      var createClientButton;
      createClientButton = '';
      if (this.clientId) {
        createClientButton = 'hide';
      }
      return "<div class='container '> <nav class='nav header justify-content-end pt-3'> <span class='nav-link span-a js--change--color'>Pregled porudzbine</span> <span class='nav-link span-a " + createClientButton + " js--create--bids'>Unesi klijenta</span> </nav> <div class='col-7 m-auto w-100 pt-3 flex flex-column'> <div class='flex flex-row justify-content-center'> <div class='item-order text-center mb-5'> <div class='js--create--door'> <img class='item-order pointer' src='/images/door.png'> </div> <label>Vrata</label> </div> <div class='item-order text-center'> <div class='js--create--threshold'> <img class='item-order pointer' src='/images/threshold.png'> </div> <label>Prag</label> </div> <div class='item-order text-center'> <div class='js--create--mosquito--repeller'> <img class='item-order pointer' src='/images/mosquitoRepeller.png'> </div> <label>Komarnik</label> </div> </div> <div class='flex flex-row justify-content-center'> <div class='item-order text-center mb-5'> <div class='js--create--window'> <img class='item-order pointer' src='/images/window.png'> </div> <label>Prozor</label> </div> <div class='item-order text-center'> <div class='js--create--shutter'> <img class='item-order pointer' src='/images/shutter.png'> </div> <label>Roletne</label> </div> </div> </div> </div>";
    };

    BidsPage.prototype._closest = function(target, closestTo) {
      return target.closest(closestTo).length > 0;
    };

    BidsPage.prototype._clickEventHandler = function(event) {
      var target;
      target = $(event.target);
      if (this._closest(target, ".js--create--door")) {
        this.doorBidDialog.show();
        return;
      }
      if (this._closest(target, ".js--create--threshold")) {
        this.thresholdBidDialog.show();
        return;
      }
      if (this._closest(target, ".js--create--mosquito--repeller")) {
        this.mosquitoRepellerBidDialog.show();
        return;
      }
      if (this._closest(target, ".js--create--window")) {
        this.windowBidDialog.show();
        return;
      }
      if (this._closest(target, ".js--create--shutter")) {
        this.shutterBidDialog.show();
        return;
      }
      if (this._closest(target, '.js--change--color')) {
        this.bidsResultPage.show();
      }
    };

    BidsPage.prototype._getClientIdFromURL = function() {
      var hash;
      hash = window.location.hash;
      return hash.substring(hash.indexOf('/'));
    };

    return BidsPage;

  })();

}).call(this);
